

<!doctype html>
<html lang="en" class="govuk-template govuk-template--rebranded no-js">
  <head>
    
    

    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">

    <title>content-data-api: data-warehouse-what-and-why - GOV.UK Developer Documentation</title>

    <link href="/stylesheets/manifest.css" rel="stylesheet" />

    <link rel="canonical" href="https://docs.publishing.service.gov.uk/repos/content-data-api/data-warehouse-what-and-why.html">
      <link rel="icon" sizes="48x48" href="/assets/govuk/assets/rebrand/images/favicon.ico">
      <link rel="icon" sizes="any" href="/assets/govuk/assets/rebrand/images/favicon.svg" type="image/svg+xml">
      <link rel="mask-icon" href="/assets/govuk/assets/rebrand/images/govuk-icon-mask.svg" color="#0b0c0c">
      <link rel="apple-touch-icon" href="/assets/govuk/assets/rebrand/images/govuk-icon-180.png">
      <link rel="manifest" href="/assets/govuk/assets/rebrand/manifest.json">

      <meta name="twitter:card" content="summary" />
      <meta name="twitter:domain" content="docs.publishing.service.gov.uk" />
      <meta name="twitter:image" content="https://docs.publishing.service.gov.uk/assets/govuk/assets/rebrand/images/govuk-opengraph-image.png" />
      <meta name="twitter:title" content="content-data-api: data-warehouse-what-and-why - GOV.UK Developer Documentation" />
      <meta name="twitter:url" content="https://docs.publishing.service.gov.uk/repos/content-data-api/data-warehouse-what-and-why.html" />

      <meta property="og:image" content="https://docs.publishing.service.gov.uk/assets/govuk/assets/rebrand/images/govuk-opengraph-image.png" />
      <meta property="og:site_name" content="GOV.UK Developer Documentation" />
      <meta property="og:title" content="content-data-api: data-warehouse-what-and-why" />
      <meta property="og:type" content="object" />
      <meta property="og:url" content="https://docs.publishing.service.gov.uk/repos/content-data-api/data-warehouse-what-and-why.html" />

      <script>
  document.addEventListener('DOMContentLoaded', function () {
    var markup = `<div id="global-cookie-message" data-module="cookie-banner" data-nosnippet="" aria-label="Can we store analytics cookies on your device?" class="gem-c-cookie-banner govuk-clearfix govuk-cookie-banner js-banner-wrapper" role="region" hidden="hidden" title="Can we store analytics cookies on your device?"> <div class="govuk-cookie-banner__message govuk-width-container"> <div class="govuk-grid-row"> <div class="govuk-grid-column-two-thirds"> <h2 class="govuk-cookie-banner__heading govuk-heading-m">Can we store analytics cookies on your device?</h2> <div tabindex="-1" class="govuk-cookie-banner__content gem-c-cookie-banner__confirmation"> <div class="gem-c-cookie-banner__content"><p class='govuk-body'>We’d like to set some cookies to understand how you use this site and remember your settings.</p><p class='govuk-body'>We also use cookies set by other sites to help us deliver content from their services.</p></div> <p class="gem-c-cookie-banner__confirmation-message--accepted govuk-body" hidden data-ga4-cookie-banner data-module="ga4-link-tracker" data-ga4-track-links-only data-ga4-set-indexes data-ga4-link="{&quot;event_name&quot;:&quot;navigation&quot;,&quot;type&quot;:&quot;cookie banner&quot;,&quot;section&quot;:&quot;You have accepted additional cookies&quot;}" >You have accepted additional cookies. <span class="gem-c-cookie-banner__confirmation-message">You can <a class="govuk-link" href="/cookies.html">change your cookie settings</a> at any time.</span></p> <p class="gem-c-cookie-banner__confirmation-message--rejected govuk-body" hidden>You have rejected additional cookies. <span class="gem-c-cookie-banner__confirmation-message">You can <a class="govuk-link" href="/cookies.html">change your cookie settings</a> at any time.</span></p> </div> </div> </div> <div class="js-confirmation-buttons govuk-button-group"> <button class="gem-c-button govuk-button" type="submit" data-accept-cookies="true" data-cookie-types="all">Accept additional cookies</button> <button class="gem-c-button govuk-button" type="submit" data-reject-cookies="true">Reject additional cookies</button> <a class="govuk-link" href="/cookies.html">View cookies</a> </div> <div hidden class="js-hide-button govuk-button-group"> <button class="gem-c-cookie-banner__hide-button govuk-button" data-hide-cookie-banner="true" data-module="ga4-event-tracker" data-ga4-event="{&quot;event_name&quot;:&quot;select_content&quot;,&quot;type&quot;:&quot;cookie banner&quot;,&quot;action&quot;:&quot;closed&quot;,&quot;section&quot;:&quot;You have accepted additional cookies&quot;}" > Hide cookie message </button> </div> </div> </div>`;
    var banner = document.createElement('div');
    banner.innerHTML = markup;
    document.body.prepend(banner);
  })
</script>


  </head>

  <body class="govuk-template__body">
    <script>document.body.className += ' js-enabled' + ('noModule' in HTMLScriptElement.prototype ? ' govuk-frontend-supported' : '');</script>

    <div class="app-pane">
      
      <div class="app-pane__header toc-open-disabled">
        <a href="#content" class="govuk-skip-link" data-module="govuk-skip-link">Skip to main content</a>

        <header class="govuk-header app-header" role="banner" data-module="govuk-header">
  <div class="govuk-header__container govuk-header__container--full-width">
    <div class="govuk-header__logo">
      <a href="/" class="govuk-header__link govuk-header__link--homepage">
        <svg
          focusable="false"
          role="img"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 324 60"
          height="30"
          width="162"
          fill="currentcolor"
          class="govuk-header__logotype"
          aria-label="GOV.UK">
          <title>GOV.UK</title>
          <g>
            <circle cx="20" cy="17.6" r="3.7"></circle>
            <circle cx="10.2" cy="23.5" r="3.7"></circle>
            <circle cx="3.7" cy="33.2" r="3.7"></circle>
            <circle cx="31.7" cy="30.6" r="3.7"></circle>
            <circle cx="43.3" cy="17.6" r="3.7"></circle>
            <circle cx="53.2" cy="23.5" r="3.7"></circle>
            <circle cx="59.7" cy="33.2" r="3.7"></circle>
            <circle cx="31.7" cy="30.6" r="3.7"></circle>
            <path d="M33.1,9.8c.2-.1.3-.3.5-.5l4.6,2.4v-6.8l-4.6,1.5c-.1-.2-.3-.3-.5-.5l1.9-5.9h-6.7l1.9,5.9c-.2.1-.3.3-.5.5l-4.6-1.5v6.8l4.6-2.4c.1.2.3.3.5.5l-2.6,8c-.9,2.8,1.2,5.7,4.1,5.7h0c3,0,5.1-2.9,4.1-5.7l-2.6-8ZM37,37.9s-3.4,3.8-4.1,6.1c2.2,0,4.2-.5,6.4-2.8l-.7,8.5c-2-2.8-4.4-4.1-5.7-3.8.1,3.1.5,6.7,5.8,7.2,3.7.3,6.7-1.5,7-3.8.4-2.6-2-4.3-3.7-1.6-1.4-4.5,2.4-6.1,4.9-3.2-1.9-4.5-1.8-7.7,2.4-10.9,3,4,2.6,7.3-1.2,11.1,2.4-1.3,6.2,0,4,4.6-1.2-2.8-3.7-2.2-4.2.2-.3,1.7.7,3.7,3,4.2,1.9.3,4.7-.9,7-5.9-1.3,0-2.4.7-3.9,1.7l2.4-8c.6,2.3,1.4,3.7,2.2,4.5.6-1.6.5-2.8,0-5.3l5,1.8c-2.6,3.6-5.2,8.7-7.3,17.5-7.4-1.1-15.7-1.7-24.5-1.7h0c-8.8,0-17.1.6-24.5,1.7-2.1-8.9-4.7-13.9-7.3-17.5l5-1.8c-.5,2.5-.6,3.7,0,5.3.8-.8,1.6-2.3,2.2-4.5l2.4,8c-1.5-1-2.6-1.7-3.9-1.7,2.3,5,5.2,6.2,7,5.9,2.3-.4,3.3-2.4,3-4.2-.5-2.4-3-3.1-4.2-.2-2.2-4.6,1.6-6,4-4.6-3.7-3.7-4.2-7.1-1.2-11.1,4.2,3.2,4.3,6.4,2.4,10.9,2.5-2.8,6.3-1.3,4.9,3.2-1.8-2.7-4.1-1-3.7,1.6.3,2.3,3.3,4.1,7,3.8,5.4-.5,5.7-4.2,5.8-7.2-1.3-.2-3.7,1-5.7,3.8l-.7-8.5c2.2,2.3,4.2,2.7,6.4,2.8-.7-2.3-4.1-6.1-4.1-6.1h10.6,0Z"></path>
          </g>
          <circle class="govuk-logo-dot" cx="226" cy="36" r="7.3"/>
          <path d="M93.94 41.25c.4 1.81 1.2 3.21 2.21 4.62 1 1.4 2.21 2.41 3.61 3.21s3.21 1.2 5.22 1.2 3.61-.4 4.82-1c1.4-.6 2.41-1.4 3.21-2.41.8-1 1.4-2.01 1.61-3.01s.4-2.01.4-3.01v.14h-10.86v-7.02h20.07v24.08h-8.03v-5.56c-.6.8-1.38 1.61-2.19 2.41-.8.8-1.81 1.2-2.81 1.81-1 .4-2.21.8-3.41 1.2s-2.41.4-3.81.4a18.56 18.56 0 0 1-14.65-6.63c-1.6-2.01-3.01-4.41-3.81-7.02s-1.4-5.62-1.4-8.83.4-6.02 1.4-8.83a20.45 20.45 0 0 1 19.46-13.65c3.21 0 4.01.2 5.82.8 1.81.4 3.61 1.2 5.02 2.01 1.61.8 2.81 2.01 4.01 3.21s2.21 2.61 2.81 4.21l-7.63 4.41c-.4-1-1-1.81-1.61-2.61-.6-.8-1.4-1.4-2.21-2.01-.8-.6-1.81-1-2.81-1.4-1-.4-2.21-.4-3.61-.4-2.01 0-3.81.4-5.22 1.2-1.4.8-2.61 1.81-3.61 3.21s-1.61 2.81-2.21 4.62c-.4 1.81-.6 3.71-.6 5.42s.8 5.22.8 5.22Zm57.8-27.9c3.21 0 6.22.6 8.63 1.81 2.41 1.2 4.82 2.81 6.62 4.82S170.2 24.39 171 27s1.4 5.62 1.4 8.83-.4 6.02-1.4 8.83-2.41 5.02-4.01 7.02-4.01 3.61-6.62 4.82-5.42 1.81-8.63 1.81-6.22-.6-8.63-1.81-4.82-2.81-6.42-4.82-3.21-4.41-4.01-7.02-1.4-5.62-1.4-8.83.4-6.02 1.4-8.83 2.41-5.02 4.01-7.02 4.01-3.61 6.42-4.82 5.42-1.81 8.63-1.81Zm0 36.73c1.81 0 3.61-.4 5.02-1s2.61-1.81 3.61-3.01 1.81-2.81 2.21-4.41c.4-1.81.8-3.61.8-5.62 0-2.21-.2-4.21-.8-6.02s-1.2-3.21-2.21-4.62c-1-1.2-2.21-2.21-3.61-3.01s-3.21-1-5.02-1-3.61.4-5.02 1c-1.4.8-2.61 1.81-3.61 3.01s-1.81 2.81-2.21 4.62c-.4 1.81-.8 3.61-.8 5.62 0 2.41.2 4.21.8 6.02.4 1.81 1.2 3.21 2.21 4.41s2.21 2.21 3.61 3.01c1.4.8 3.21 1 5.02 1Zm36.32 7.96-12.24-44.15h9.83l8.43 32.77h.4l8.23-32.77h9.83L200.3 58.04h-12.24Zm74.14-7.96c2.18 0 3.51-.6 3.51-.6 1.2-.6 2.01-1 2.81-1.81s1.4-1.81 1.81-2.81a13 13 0 0 0 .8-4.01V13.9h8.63v28.15c0 2.41-.4 4.62-1.4 6.62-.8 2.01-2.21 3.61-3.61 5.02s-3.41 2.41-5.62 3.21-4.62 1.2-7.02 1.2-5.02-.4-7.02-1.2c-2.21-.8-4.01-1.81-5.62-3.21s-2.81-3.01-3.61-5.02-1.4-4.21-1.4-6.62V13.9h8.63v26.95c0 1.61.2 3.01.8 4.01.4 1.2 1.2 2.21 2.01 2.81.8.8 1.81 1.4 2.81 1.81 0 0 1.34.6 3.51.6Zm34.22-36.18v18.92l15.65-18.92h10.82l-15.03 17.32 16.03 26.83h-10.21l-11.44-20.21-5.62 6.22v13.99h-8.83V13.9"/>
        </svg>
        <span class="govuk-header__product-name">
          Developer docs
        </span>
      </a>
    </div>
    <div class="govuk-header__content">
      <nav class="govuk-header__navigation govuk-header__navigation--end" aria-label="Menu">
        <button type="button" class="govuk-header__menu-button govuk-js-header-toggle" aria-controls="navigation" hidden>Menu</button>
        <ul id="navigation" class="govuk-header__navigation-list">
            <li class="govuk-header__navigation-item">
              <a class="govuk-header__link" href="/manual/get-started.html">Get started</a>
            </li>
            <li class="govuk-header__navigation-item">
              <a class="govuk-header__link" href="/manual.html">Manual</a>
            </li>
            <li class="govuk-header__navigation-item">
              <a class="govuk-header__link" href="/kubernetes/">Kubernetes</a>
            </li>
            <li class="govuk-header__navigation-item govuk-header__navigation-item--active">
              <a class="govuk-header__link" href="/apps.html" aria-current="page">Apps</a>
            </li>
            <li class="govuk-header__navigation-item">
              <a class="govuk-header__link" href="/repos.html">Repos</a>
            </li>
            <li class="govuk-header__navigation-item">
              <a class="govuk-header__link" href="/mobile/">Mobile</a>
            </li>
            <li class="govuk-header__navigation-item">
              <a class="govuk-header__link" href="/content-schemas.html">Schemas</a>
            </li>
            <li class="govuk-header__navigation-item">
              <a class="govuk-header__link" href="/document-types.html">Document types</a>
            </li>
        </ul>
      </nav>
    </div>
  </div>
</header>

      </div>

        <div id="toc-heading" class="toc-show fixedsticky">
          <button type="button" class="toc-show__label js-toc-show" aria-controls="toc">
            Table of contents <span class="toc-show__icon"></span>
          </button>
        </div>

      <div class="app-pane__body">
          <div class="app-pane__toc">
            <div class="toc" data-module="table-of-contents" tabindex="-1">
              <div class="search" data-module="search" data-path-to-site-root="/">
  <form action="https://www.google.co.uk/search" method="get" role="search" class="search__form govuk-!-margin-bottom-4">
    <input type="hidden" name="as_sitesearch" value="https://docs.publishing.service.gov.uk"/>
    <label class="govuk-label search__label" for="search">
      Search (via Google)
    </label>
    <input
      type="search"
      id="search" name="q"
      class="govuk-input govuk-!-margin-bottom-0 search__input"
      aria-controls="search-results"
      placeholder="Search">
    <button type="submit" class="search__button">Search</button>
  </form>
</div>

              <button type="button" class="toc__close js-toc-close" aria-controls="toc" aria-label="Hide table of contents"></button>
              <nav id="toc" class="js-toc-list toc__list" aria-labelledby="toc-heading">
                  <ul>
    <li>
      <a href="/repos/content-data-api.html" rel="noopener" class="govuk-link">content-data-api</a>
    </li>
    <li>
      <ul>
            <li><a href="/repos/content-data-api/data-warehouse-schema.html" rel="noopener" class="govuk-link">data-warehouse-schema</a></li>
    <li><a href="/repos/content-data-api/data-warehouse-what-and-why.html" rel="noopener" class="govuk-link">data-warehouse-what-and-why</a></li>
    <li><a href="/repos/content-data-api/etl-process.html" rel="noopener" class="govuk-link">Collecting user metrics</a></li>
    <li><a href="/repos/content-data-api/google_analytics_setup.html" rel="noopener" class="govuk-link">Set up Google Analytics credentials in development</a></li>
    <li><a href="/repos/content-data-api/how_to_handle_errors.html" rel="noopener" class="govuk-link">How to proceed with Sentry Errors</a></li>
    <li><a href="/repos/content-data-api/import_production_data.html" rel="noopener" class="govuk-link">Import Production Data</a></li>
    <li><a href="/repos/content-data-api/processing_publishing_api_messages.html" rel="noopener" class="govuk-link">Processing messages from the Publishing API</a></li>
    <li><a href="/repos/content-data-api/requeue_all_content.html" rel="noopener" class="govuk-link">Re-queue all content from the Publishing API</a></li>
    <li class="subdir__heading">arch</li>
    <ul class="subdir__menu">
          <li><a href="/repos/content-data-api/arch/adr-000-document-architectural-decisions.html" rel="noopener" class="govuk-link">ADR 000: Document architectural decisions</a></li>
    <li><a href="/repos/content-data-api/arch/adr-003-use-google-tag-manager.html" rel="noopener" class="govuk-link">ADR 003: Use Google Tag Manager</a></li>
    <li><a href="/repos/content-data-api/arch/adr-005-split-audit-tool-cpm.html" rel="noopener" class="govuk-link">ADR 005: Split Audit Tool and Content Performance Manager</a></li>
    <li><a href="/repos/content-data-api/arch/adr-006-track-metrics-via-time-dimension.html" rel="noopener" class="govuk-link">ADR 006: Track metrics through a time dimension</a></li>
    <li><a href="/repos/content-data-api/arch/adr-007-etl-publishing-api-content-store.html" rel="noopener" class="govuk-link">ADR 007: ETL to populate Content Items' dimension.</a></li>
    <li><a href="/repos/content-data-api/arch/adr-008-focus-on-english-content.html" rel="noopener" class="govuk-link">ADR 008: Focus on english content in the first iterations.</a></li>
    <li><a href="/repos/content-data-api/arch/adr-009-consume-from-publishing-api.html" rel="noopener" class="govuk-link">ADR 009: Consume content items only from the publishing API</a></li>
    <li><a href="/repos/content-data-api/arch/adr-009-track-metrics-by-basepath.html" rel="noopener" class="govuk-link">ADR 009: Track metrics by basepath instead of by Content Item</a></li>
    <li><a href="/repos/content-data-api/arch/adr-010-track-content-items-in-all-languages.html" rel="noopener" class="govuk-link">ADR 011: Track content items in all languages</a></li>
    <li><a href="/repos/content-data-api/arch/adr-011-new-app-for-ui-management.html" rel="noopener" class="govuk-link">ADR 011: Create a new application for UI management</a></li>
    <li><a href="/repos/content-data-api/arch/adr-012-use-sidekiq-for-proessing-rabbitmq-messages.html" rel="noopener" class="govuk-link">ADR 012: Process each RabbitMQ message in a Sidekiq Job</a></li>
    <li><a href="/repos/content-data-api/arch/adr-013-store-json-from-events-that-carry-content-changes.html" rel="noopener" class="govuk-link">Store Content Item JSON that makes the dimensions grow</a></li>
    <li><a href="/repos/content-data-api/arch/adr-014-track-attribute-changes-per-basepath.html" rel="noopener" class="govuk-link">Track attribute changes through time for basepaths</a></li>
    <li><a href="/repos/content-data-api/arch/adr-015-convention-for-data-warehouse-unique-id.html" rel="noopener" class="govuk-link">Use compound id instead of a random UUID</a></li>
    <li><a href="/repos/content-data-api/arch/adr-016-rename-content-performance-manager.html" rel="noopener" class="govuk-link">ADR 016: Rename Content Performance Manager to Content Data API</a></li>

    </ul>

      </ul>
    </li>
  </ul>

              </nav>
            </div>
          </div>

        <div class="app-pane__content toc-open-disabled" aria-label="Content">
          <main id="content" class="technical-documentation" data-module="anchored-headings">
              
<script type="application/ld+json">
  {
  "@context": "http://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "item": {
        "name": "Home",
        "@id": "http://www.dev.gov.uk/"
      }
    },
    {
      "@type": "ListItem",
      "position": 2,
      "item": {
        "name": "Apps",
        "@id": "http://www.dev.gov.uk/apps.html"
      }
    },
    {
      "@type": "ListItem",
      "position": 3,
      "item": {
        "name": "content-data-api",
        "@id": "http://www.dev.gov.uk/repos/content-data-api.html"
      }
    }
  ]
}
</script>

<nav data-module="ga4-link-tracker" aria-label="Breadcrumb" class="gem-c-breadcrumbs govuk-breadcrumbs">
  <ol class="govuk-breadcrumbs__list">
        <li class="govuk-breadcrumbs__list-item">
          <a data-ga4-link="{&quot;event_name&quot;:&quot;navigation&quot;,&quot;type&quot;:&quot;breadcrumb&quot;,&quot;index_link&quot;:&quot;1&quot;,&quot;index_total&quot;:&quot;3&quot;}" class="govuk-breadcrumbs__link" href="/">Home</a>
        </li>
        <li class="govuk-breadcrumbs__list-item">
          <a data-ga4-link="{&quot;event_name&quot;:&quot;navigation&quot;,&quot;type&quot;:&quot;breadcrumb&quot;,&quot;index_link&quot;:&quot;2&quot;,&quot;index_total&quot;:&quot;3&quot;}" class="govuk-breadcrumbs__link" href="/apps.html">Apps</a>
        </li>
        <li class="govuk-breadcrumbs__list-item">
          <a data-ga4-link="{&quot;event_name&quot;:&quot;navigation&quot;,&quot;type&quot;:&quot;breadcrumb&quot;,&quot;index_link&quot;:&quot;3&quot;,&quot;index_total&quot;:&quot;3&quot;}" class="govuk-breadcrumbs__link" href="/repos/content-data-api.html">content-data-api</a>
        </li>
  </ol>
</nav>
  <div class="govuk-!-font-size-16 govuk-!-margin-top-6">
    <div class="govuk-warning-text">
      <span class="govuk-warning-text__icon" aria-hidden="true">!</span>
      <strong class="govuk-warning-text__text">
        <span class="govuk-warning-text__assistive">Warning</span>
        This document has not been updated for a while now. It may be out of date.
      </strong>
    </div>

  Last updated: <a href="https://github.com/alphagov/content-data-api/commit/a14b7e95c083bf45ecc098760985f02e023da2ea">18 Mar 2021</a>
</div>

  <h1 class="page-title">content-data-api: data-warehouse-what-and-why</h1>

  <!-- raw HTML omitted -->
<p><strong>Table of Contents</strong></p>
<ul>
<li>
<a href="#the-need-for-tracking-metrics-through-time">The need for tracking metrics through time</a>
<ul>
<li><a href="#long-term-vision">Long term vision</a></li>
<li><a href="#give-departments-the-data-they-need">Give departments the data they need</a></li>
<li>
<a href="#at-scale-and-over-time">At scale and over time</a>
<ul>
<li><a href="#example-1-number-of-content-items-published-by-an-organization">Example 1: Number of Content Items published by an organization</a></li>
<li><a href="#example-2-enforcing-good-practices">Example 2: Enforcing good practices</a></li>
<li><a href="#example-3-predictions">Example 3: Predictions</a></li>
</ul>
</li>
</ul>
</li>
<li>
<a href="#why-a-data-warehouse">Why a Data Warehouse</a>
<ul>
<li><a href="#considerations-for-building-a-new-application">Considerations for building a new application</a></li>
<li><a href="#tracking-metrics-through-time-in-a-data-warehouse">Tracking metrics through time in a Data Warehouse</a></li>
<li><a href="#track-content-changes-over-time-for-content-items">Track content changes over time for Content Items</a></li>
</ul>
</li>
</ul>
<!-- raw HTML omitted -->
<pre><code>This document is not an in-depth explanation of what Data Warehouse is but an
explanation of the reasons behind building it. There are many online resources
and books about Data Warehouses if you want to get further information about
this matter.
</code></pre>

<p>To understand the foundation for the Data Warehouse, let's start with the <code>long term vision</code> that guided our work.</p>
<h2 id="long-term-vision">Long term vision</h2>
<pre><code>Give departments the data they need, at the point they need it so that they can
manage their GOV.UK content at scale over time.
</code></pre>
<p>Let's explore in detail:</p>
<h2 id="give-departments-the-data-they-need">Give departments the data they need</h2>
<p>Departments manage content daily. They publish, update and archive content as
part of their daily work; as of today, content designers have to search across
multiple sources or tools to find metrics. Some of these sources are
inaccessible, difficult to use or require further analysis. We aim to provide
them with a single location to see all relevant metrics about their content.
This information is beneficial to make informed decisions about their next
steps.</p>
<p>As per user research, content designers would benefit from having two types of
metrics.</p>
<ul>
<li>Metrics about <strong>content performance</strong>:</li>
</ul>
<pre><code>Metrics that define how content behaves when it interacts with GOV.UK users. For
example, the number of visits, the number of searches within the page, the
number of feedback comments that a page is receiving, or the overall
satisfaction with a particular page.
</code></pre>
<p>These metrics are tracked daily.</p>
<ul>
<li>Metrics about <strong>content quality</strong>:</li>
</ul>
<p>These metrics are tracked/updated on each new version.</p>
<pre><code>Metrics that define core characteristics of content: the reading score, use of
passive voice, guidelines compliance, number of paragraphs, words, complex sentences,...
</code></pre>
<h2 id="at-scale-and-over-time">At scale and over time</h2>
<p><code>At scale</code> and <code>over time</code> key principles for the Data Warehouse, because
content designers are interested in:</p>
<ol>
<li>Metrics for each content item that is or have been live in GOV.UK (around
550K)</li>
<li>Trends of each of the metrics <strong>over time</strong>
</li>
</ol>
<p>To explain in detail why <strong>over time</strong> is important, let us explore three simple
examples.</p>
<h3 id="example-1-number-of-content-items-published-by-an-organization">Example 1: Number of Content Items published by an organization</h3>
<p>Departments are content owners; this means that they are responsible for
publishing, updating and archiving/retiring their content daily. Diligent
management of content implies a steady pace of updates and publications while
keeping the total number of content items in a sensible number.</p>
<p>For example, if an organization is publishing at a very high rate for an
extended period of time, it could be a signal that they need to improve the way
they archive or retire existing content.</p>
<p>To get these insights about content publication we can't focus on metrics for a
single day, we need to understand how those metrics evolved <strong>over time</strong>.</p>
<p>Let's explore the example:</p>
<ul>
<li><strong>Content Items published by an organization in one day</strong></li>
</ul>
<p>We have two organizations: <code>A</code> and <code>B</code>. In the last day, <code>Organisation A</code> has
<code>550</code> live Content Items and <code>Organisation B</code> has <code>400</code>.</p>
<p>With this information, it is hard to see if those organizations are effectively
managing their content because we only have a data points for a single day.</p>
<p><img src="https://raw.githubusercontent.com/alphagov/content-data-api/main/docs/images/fig-01-no-trends.png" alt="without metrics over time"></p>
<ul>
<li>
<strong>Content Items published by an organization over time</strong>*</li>
</ul>
<p>If we track the number of content items <strong>over time</strong>, then we might observe
that <code>Organisation A</code> is decreasing the number of Content Items daily, and
<code>Organisation B</code> has created too many content items in the last year.</p>
<p>We can conclude that <code>organization b</code> would need to take action to improve the
way they manage content over time: they can make an informed decision based on
data about the way they manage content.</p>
<p><img src="https://raw.githubusercontent.com/alphagov/content-data-api/main/docs/images/fig-02-with-trends.png" alt="with metrics over time"></p>
<h3 id="example-2-enforcing-good-practices">Example 2: Enforcing good practices</h3>
<p>Data is not only to help departments to manage their content over time; it can
also help to provide evidence about compliance to best practices and guidelines.</p>
<p>For example, we discourage departments from publishing content in PDF format.
There are many reasons for it, but having some metrics to prove that PDFs are
not benefitial for users, would make it easier for departments to fully comply
with GOV.UK guidelines.</p>
<p>In the following example, we can see how there is a relationship between the
number of PDFs published by <code>Organisation A</code> and the <code>satisfaction score</code>.</p>
<p><img src="https://raw.githubusercontent.com/alphagov/content-data-api/main/docs/images/fig-03-comparisons.png" alt="enforcing good practices"></p>
<h3 id="example-3-predictions">Example 3: Predictions</h3>
<p>User interactions with content on GOV.UK can sometimes follow seasonal patterns.
If on a particular week or month of the year a set of pages receive a spike on
the number of visits, it is possible those pages will receive a similar number
of visits the following year during the same period.</p>
<p>Let's explore the following example:</p>
<p>As per the spike of visits in June last year, it is very likely that
<code>Organisation A</code> expects a spike in page views for a content item, so they might
consider reviewing in advance the content, so it is accurate and up to date.</p>
<p><img src="https://raw.githubusercontent.com/alphagov/content-data-api/main/docs/images/fig-04-predictions.png" alt="predictions"></p>
<h1 id="why-a-data-warehouse">Why a Data Warehouse</h1>
<h2 id="considerations-for-building-a-new-application">Considerations for building a new application</h2>
<p>Before building a new application, we explored if the existing set of
applications and data sources were good enough to fulfill our mission goals.</p>
<p>This is what we found out:</p>
<ol>
<li>
<p>We don't have a single place to retrieve all metrics for content items. We
currently store metrics for organizations (and dashboards) via the
<a href="https://github.com/alphagov/content-data-api/blob/main/docs/performance-platform">performance platform</a>, but the way it is structured
and the scope of the product, make it not a good fit for our mission goal.</p>
</li>
<li>
<p>We store the number of page views in <a href="https://github.com/alphagov/rummager">Search</a>, so when users search
in GOV.UK the results are ordered by popularity; the way this information is
collected <a href="https://trello.com/c/mMXm3KQ2/38-google-analytics-integration-is-very-fragile">has been reported as Tech debt</a> and building
this applpcation will enable <a href="https://github.com/alphagov/rummager">Search</a> to <a href="https://github.com/alphagov/content-data-api/blob/main/docs/api">use the API</a> and pay
the tech debt.</p>
</li>
<li>
<p>Data Scientists find it difficult to get and link content and performance
metrics. Having a single place to look for this information will make their
daily work easier.</p>
</li>
<li>
<p>Performance Analysts dashboards will also benefit from having metrics from
multiple sources because, although they have direct access to metrics from
Google Analytics, they don't have direct access to Feedex or other internal
applications.</p>
</li>
</ol>
<p>We concluded that we had to find custom way to store metrics and content
attributes through time, because the existing applications were more focused on
metrics and content characteristics for a single day.</p>
<h2 id="tracking-metrics-through-time-in-a-data-warehouse">Tracking metrics through time in a Data Warehouse</h2>
<p>Now that we have a better understanding of the needs behind tracking metrics at
scale and through time, and need for the existing application, let's explore why
we have chosen a Data Warehouse as the underlying technology to support this
functionality.</p>
<p>Considering the user needs and the long term vision we need:</p>
<pre><code>A way to track daily snapshots of performance metrics, from multiple sources, of
all our content over time, so we can analyze it to make informed decisions about
content.
</code></pre>
<p>If we look into the Wikipedia definition of a Data Warehouse:</p>
<pre><code>A central repository of integrated data from one or more disparate sources, that
stores current and historical data in one single place that is used for creating
analytical reports for workers throughout the enterprise.
</code></pre>
<p>And, if we replace:</p>
<table>
<thead>
<tr>
<th>source</th>
<th>replaced</th>
</tr>
</thead>
<tbody>
<tr>
<td>one or more disparate sources</td>
<td>Feedex, Google Analytics</td>
</tr>
<tr>
<td>workers</td>
<td>content designers</td>
</tr>
<tr>
<td>the enterprise</td>
<td>All GOV.UK organizations</td>
</tr>
</tbody>
</table>
<p>We get:</p>
<pre lang="text"><code>A central repository of integrated data from Feedex, Google Analytics, PAAS...,
that stores current and historical data in one single place that is used for
creating analytical reports for content designers throughout all GOV.UK
organizations.
</code></pre>
<p>So, it seems that from a definition / formal perspective, it fits in what we
need to track metrics through time.</p>
<h2 id="track-content-changes-over-time-for-content-items">Track content changes over time for Content Items</h2>
<p>We not only need to track metrics about how content is performing through time,
but we also need to monitor the content attributes, so we understand the
relationship between content and performance changes through time.</p>
<p>Say, for example, that a content item was created and published three years ago.
To get a good understanding of how the content changes are related to their
performance, we would need to:</p>
<ol>
<li>Track each change to the Content Item through the three years</li>
<li>Update the quality metrics each time a new version is created</li>
<li>Link the performance metrics to each one of the versions of the Content Item.</li>
</ol>
<p>Tracking the history of each content item is key to understand the relationship
between content and performance.</p>

  <script>
    /*
      Manually trigger the styling of the 'current page' in the sidebar,
      as it does not happen automatically because we are still technically
      in single page mode.
    */
    (function () {
        'use strict'
        /*
          Cannot use `$(document).ready` on next line as jQuery has not loaded
          yet. But we can use jQuery in the callback.
        */
        window.addEventListener('load', function () {
            try {
                new GOVUK.Modules.InPageNavigation().start($("html"));
            }
            catch (error) {
                /* Fail without causing other JS in the page to break */
                console.log("Error calling GOVUK's InPageNavigation module", error);
            }
        })
    }());
</script>


            
          </main>

          <aside>
              <ul class="contribution-banner">
                <li><a href="https://github.com/alphagov/content-data-api/blob/main/docs/data-warehouse-what-and-why.md">View source</a></li>
                <li><a href="https://github.com/alphagov/govuk-developer-docs/issues/new?body=Problem+with+%27%27+%28https%3A%2F%2Fdocs.publishing.service.gov.uk%2Frepos%2Fcontent-data-api%2Fdata-warehouse-what-and-why.html%29&amp;labels=bug&amp;title=Re%3A+%27%27">Report problem</a></li>
                <li><a href="https://github.com/alphagov/govuk-developer-docs">GitHub Repo</a></li>
              </ul>
          </aside>

          <footer class="govuk-footer app-footer" role="contentinfo">
  <svg focusable="false" role="presentation" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 60" height="30" width="32" fill="currentcolor" class="govuk-footer__crown">
    <g>
      <circle cx="20" cy="17.6" r="3.7"></circle>
      <circle cx="10.2" cy="23.5" r="3.7"></circle>
      <circle cx="3.7" cy="33.2" r="3.7"></circle>
      <circle cx="31.7" cy="30.6" r="3.7"></circle>
      <circle cx="43.3" cy="17.6" r="3.7"></circle>
      <circle cx="53.2" cy="23.5" r="3.7"></circle>
      <circle cx="59.7" cy="33.2" r="3.7"></circle>
      <circle cx="31.7" cy="30.6" r="3.7"></circle>
      <path d="M33.1,9.8c.2-.1.3-.3.5-.5l4.6,2.4v-6.8l-4.6,1.5c-.1-.2-.3-.3-.5-.5l1.9-5.9h-6.7l1.9,5.9c-.2.1-.3.3-.5.5l-4.6-1.5v6.8l4.6-2.4c.1.2.3.3.5.5l-2.6,8c-.9,2.8,1.2,5.7,4.1,5.7h0c3,0,5.1-2.9,4.1-5.7l-2.6-8ZM37,37.9s-3.4,3.8-4.1,6.1c2.2,0,4.2-.5,6.4-2.8l-.7,8.5c-2-2.8-4.4-4.1-5.7-3.8.1,3.1.5,6.7,5.8,7.2,3.7.3,6.7-1.5,7-3.8.4-2.6-2-4.3-3.7-1.6-1.4-4.5,2.4-6.1,4.9-3.2-1.9-4.5-1.8-7.7,2.4-10.9,3,4,2.6,7.3-1.2,11.1,2.4-1.3,6.2,0,4,4.6-1.2-2.8-3.7-2.2-4.2.2-.3,1.7.7,3.7,3,4.2,1.9.3,4.7-.9,7-5.9-1.3,0-2.4.7-3.9,1.7l2.4-8c.6,2.3,1.4,3.7,2.2,4.5.6-1.6.5-2.8,0-5.3l5,1.8c-2.6,3.6-5.2,8.7-7.3,17.5-7.4-1.1-15.7-1.7-24.5-1.7h0c-8.8,0-17.1.6-24.5,1.7-2.1-8.9-4.7-13.9-7.3-17.5l5-1.8c-.5,2.5-.6,3.7,0,5.3.8-.8,1.6-2.3,2.2-4.5l2.4,8c-1.5-1-2.6-1.7-3.9-1.7,2.3,5,5.2,6.2,7,5.9,2.3-.4,3.3-2.4,3-4.2-.5-2.4-3-3.1-4.2-.2-2.2-4.6,1.6-6,4-4.6-3.7-3.7-4.2-7.1-1.2-11.1,4.2,3.2,4.3,6.4,2.4,10.9,2.5-2.8,6.3-1.3,4.9,3.2-1.8-2.7-4.1-1-3.7,1.6.3,2.3,3.3,4.1,7,3.8,5.4-.5,5.7-4.2,5.8-7.2-1.3-.2-3.7,1-5.7,3.8l-.7-8.5c2.2,2.3,4.2,2.7,6.4,2.8-.7-2.3-4.1-6.1-4.1-6.1h10.6,0Z"></path>
    </g>
  </svg>
  <div class="govuk-footer__meta">
    <div class="govuk-footer__meta-item govuk-footer__meta-item--grow">

        <ul class="govuk-footer__inline-list">
            <li class="govuk-footer__inline-list-item">
              <a class="govuk-footer__link" href="/accessibility.html">Accessibility</a>
            </li>
            <li class="govuk-footer__inline-list-item">
              <a class="govuk-footer__link" href="/cookies.html">Cookies</a>
            </li>
        </ul>

      <svg
        aria-hidden="true"
        focusable="false"
        class="govuk-footer__licence-logo"
        xmlns="http://www.w3.org/2000/svg"
        viewbox="0 0 483.2 195.7"
        height="17"
        width="41"
      >
        <path
          fill="currentColor"
          d="M421.5 142.8V.1l-50.7 32.3v161.1h112.4v-50.7zm-122.3-9.6A47.12 47.12 0 0 1 221 97.8c0-26 21.1-47.1 47.1-47.1 16.7 0 31.4 8.7 39.7 21.8l42.7-27.2A97.63 97.63 0 0 0 268.1 0c-36.5 0-68.3 20.1-85.1 49.7A98 98 0 0 0 97.8 0C43.9 0 0 43.9 0 97.8s43.9 97.8 97.8 97.8c36.5 0 68.3-20.1 85.1-49.7a97.76 97.76 0 0 0 149.6 25.4l19.4 22.2h3v-87.8h-80l24.3 27.5zM97.8 145c-26 0-47.1-21.1-47.1-47.1s21.1-47.1 47.1-47.1 47.2 21 47.2 47S123.8 145 97.8 145"
        />
      </svg>
      <span class="govuk-footer__licence-description">
        All content is available under the
        <a
          class="govuk-footer__link"
          href="https://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/"
          rel="license"
        >Open Government Licence v3.0</a>, except where otherwise stated
      </span>
    </div>
    <div class="govuk-footer__meta-item">
      <a
        class="govuk-footer__link govuk-footer__copyright-logo"
        href="https://www.nationalarchives.gov.uk/information-management/re-using-public-sector-information/uk-government-licensing-framework/crown-copyright/"
      >© Crown copyright</a>
    </div>
  </div>
</footer>

        </div>
      </div>
    </div>

    
    <script src="/javascripts/govuk_frontend.js" type="module"></script>
    <script src="/javascripts/application.js"></script>
  </body>
</html>
