

<!doctype html>
<html lang="en" class="govuk-template govuk-template--rebranded no-js">
  <head>
    

    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">

    <title>finder-frontend: The Finder Content Item Format - GOV.UK Developer Documentation</title>

    <link href="/stylesheets/manifest.css" rel="stylesheet" />

    <link rel="canonical" href="https://docs.publishing.service.gov.uk/repos/finder-frontend/finder-content-item.html">
      <link rel="icon" sizes="48x48" href="/assets/govuk/assets/rebrand/images/favicon.ico">
      <link rel="icon" sizes="any" href="/assets/govuk/assets/rebrand/images/favicon.svg" type="image/svg+xml">
      <link rel="mask-icon" href="/assets/govuk/assets/rebrand/images/govuk-icon-mask.svg" color="#0b0c0c">
      <link rel="apple-touch-icon" href="/assets/govuk/assets/rebrand/images/govuk-icon-180.png">
      <link rel="manifest" href="/assets/govuk/assets/rebrand/manifest.json">

      <meta name="twitter:card" content="summary" />
      <meta name="twitter:domain" content="docs.publishing.service.gov.uk" />
      <meta name="twitter:image" content="https://docs.publishing.service.gov.uk/assets/govuk/assets/rebrand/images/govuk-opengraph-image.png" />
      <meta name="twitter:title" content="finder-frontend: The Finder Content Item Format - GOV.UK Developer Documentation" />
      <meta name="twitter:url" content="https://docs.publishing.service.gov.uk/repos/finder-frontend/finder-content-item.html" />

      <meta property="og:image" content="https://docs.publishing.service.gov.uk/assets/govuk/assets/rebrand/images/govuk-opengraph-image.png" />
      <meta property="og:site_name" content="GOV.UK Developer Documentation" />
      <meta property="og:title" content="finder-frontend: The Finder Content Item Format" />
      <meta property="og:type" content="object" />
      <meta property="og:url" content="https://docs.publishing.service.gov.uk/repos/finder-frontend/finder-content-item.html" />

      <script>
  document.addEventListener('DOMContentLoaded', function () {
    var markup = `<div id="global-cookie-message" data-module="cookie-banner" data-nosnippet="" aria-label="Can we store analytics cookies on your device?" class="gem-c-cookie-banner govuk-clearfix govuk-cookie-banner js-banner-wrapper" role="region" hidden="hidden" title="Can we store analytics cookies on your device?"> <div class="govuk-cookie-banner__message govuk-width-container"> <div class="govuk-grid-row"> <div class="govuk-grid-column-two-thirds"> <h2 class="govuk-cookie-banner__heading govuk-heading-m">Can we store analytics cookies on your device?</h2> <div tabindex="-1" class="govuk-cookie-banner__content gem-c-cookie-banner__confirmation"> <div class="gem-c-cookie-banner__content"><p class='govuk-body'>Weâ€™d like to set some cookies to understand how you use this site and remember your settings.</p><p class='govuk-body'>We also use cookies set by other sites to help us deliver content from their services.</p></div> <p class="gem-c-cookie-banner__confirmation-message--accepted govuk-body" hidden data-ga4-cookie-banner data-module="ga4-link-tracker" data-ga4-track-links-only data-ga4-set-indexes data-ga4-link="{&quot;event_name&quot;:&quot;navigation&quot;,&quot;type&quot;:&quot;cookie banner&quot;,&quot;section&quot;:&quot;You have accepted additional cookies&quot;}" >You have accepted additional cookies. <span class="gem-c-cookie-banner__confirmation-message">You can <a class="govuk-link" href="/cookies.html">change your cookie settings</a> at any time.</span></p> <p class="gem-c-cookie-banner__confirmation-message--rejected govuk-body" hidden>You have rejected additional cookies. <span class="gem-c-cookie-banner__confirmation-message">You can <a class="govuk-link" href="/cookies.html">change your cookie settings</a> at any time.</span></p> </div> </div> </div> <div class="js-confirmation-buttons govuk-button-group"> <button class="gem-c-button govuk-button" type="submit" data-accept-cookies="true" data-cookie-types="all">Accept additional cookies</button> <button class="gem-c-button govuk-button" type="submit" data-reject-cookies="true">Reject additional cookies</button> <a class="govuk-link" href="/cookies.html">View cookies</a> </div> <div hidden class="js-hide-button govuk-button-group"> <button class="gem-c-cookie-banner__hide-button govuk-button" data-hide-cookie-banner="true" data-module="ga4-event-tracker" data-ga4-event="{&quot;event_name&quot;:&quot;select_content&quot;,&quot;type&quot;:&quot;cookie banner&quot;,&quot;action&quot;:&quot;closed&quot;,&quot;section&quot;:&quot;You have accepted additional cookies&quot;}" > Hide cookie message </button> </div> </div> </div>`;
    var banner = document.createElement('div');
    banner.innerHTML = markup;
    document.body.prepend(banner);
  })
</script>


  </head>

  <body class="govuk-template__body">
    <script>document.body.className += ' js-enabled' + ('noModule' in HTMLScriptElement.prototype ? ' govuk-frontend-supported' : '');</script>

    <div class="app-pane">
      <div class="app-pane__header toc-open-disabled">
        <a href="#content" class="govuk-skip-link" data-module="govuk-skip-link">Skip to main content</a>

        <header class="govuk-header app-header" role="banner" data-module="govuk-header">
  <div class="govuk-header__container govuk-header__container--full-width">
    <div class="govuk-header__logo">
      <a href="/" class="govuk-header__link govuk-header__link--homepage">
        <svg
          focusable="false"
          role="img"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 324 60"
          height="30"
          width="162"
          fill="currentcolor"
          class="govuk-header__logotype"
          aria-label="GOV.UK">
          <title>GOV.UK</title>
          <g>
            <circle cx="20" cy="17.6" r="3.7"></circle>
            <circle cx="10.2" cy="23.5" r="3.7"></circle>
            <circle cx="3.7" cy="33.2" r="3.7"></circle>
            <circle cx="31.7" cy="30.6" r="3.7"></circle>
            <circle cx="43.3" cy="17.6" r="3.7"></circle>
            <circle cx="53.2" cy="23.5" r="3.7"></circle>
            <circle cx="59.7" cy="33.2" r="3.7"></circle>
            <circle cx="31.7" cy="30.6" r="3.7"></circle>
            <path d="M33.1,9.8c.2-.1.3-.3.5-.5l4.6,2.4v-6.8l-4.6,1.5c-.1-.2-.3-.3-.5-.5l1.9-5.9h-6.7l1.9,5.9c-.2.1-.3.3-.5.5l-4.6-1.5v6.8l4.6-2.4c.1.2.3.3.5.5l-2.6,8c-.9,2.8,1.2,5.7,4.1,5.7h0c3,0,5.1-2.9,4.1-5.7l-2.6-8ZM37,37.9s-3.4,3.8-4.1,6.1c2.2,0,4.2-.5,6.4-2.8l-.7,8.5c-2-2.8-4.4-4.1-5.7-3.8.1,3.1.5,6.7,5.8,7.2,3.7.3,6.7-1.5,7-3.8.4-2.6-2-4.3-3.7-1.6-1.4-4.5,2.4-6.1,4.9-3.2-1.9-4.5-1.8-7.7,2.4-10.9,3,4,2.6,7.3-1.2,11.1,2.4-1.3,6.2,0,4,4.6-1.2-2.8-3.7-2.2-4.2.2-.3,1.7.7,3.7,3,4.2,1.9.3,4.7-.9,7-5.9-1.3,0-2.4.7-3.9,1.7l2.4-8c.6,2.3,1.4,3.7,2.2,4.5.6-1.6.5-2.8,0-5.3l5,1.8c-2.6,3.6-5.2,8.7-7.3,17.5-7.4-1.1-15.7-1.7-24.5-1.7h0c-8.8,0-17.1.6-24.5,1.7-2.1-8.9-4.7-13.9-7.3-17.5l5-1.8c-.5,2.5-.6,3.7,0,5.3.8-.8,1.6-2.3,2.2-4.5l2.4,8c-1.5-1-2.6-1.7-3.9-1.7,2.3,5,5.2,6.2,7,5.9,2.3-.4,3.3-2.4,3-4.2-.5-2.4-3-3.1-4.2-.2-2.2-4.6,1.6-6,4-4.6-3.7-3.7-4.2-7.1-1.2-11.1,4.2,3.2,4.3,6.4,2.4,10.9,2.5-2.8,6.3-1.3,4.9,3.2-1.8-2.7-4.1-1-3.7,1.6.3,2.3,3.3,4.1,7,3.8,5.4-.5,5.7-4.2,5.8-7.2-1.3-.2-3.7,1-5.7,3.8l-.7-8.5c2.2,2.3,4.2,2.7,6.4,2.8-.7-2.3-4.1-6.1-4.1-6.1h10.6,0Z"></path>
          </g>
          <circle class="govuk-logo-dot" cx="226" cy="36" r="7.3"/>
          <path d="M93.94 41.25c.4 1.81 1.2 3.21 2.21 4.62 1 1.4 2.21 2.41 3.61 3.21s3.21 1.2 5.22 1.2 3.61-.4 4.82-1c1.4-.6 2.41-1.4 3.21-2.41.8-1 1.4-2.01 1.61-3.01s.4-2.01.4-3.01v.14h-10.86v-7.02h20.07v24.08h-8.03v-5.56c-.6.8-1.38 1.61-2.19 2.41-.8.8-1.81 1.2-2.81 1.81-1 .4-2.21.8-3.41 1.2s-2.41.4-3.81.4a18.56 18.56 0 0 1-14.65-6.63c-1.6-2.01-3.01-4.41-3.81-7.02s-1.4-5.62-1.4-8.83.4-6.02 1.4-8.83a20.45 20.45 0 0 1 19.46-13.65c3.21 0 4.01.2 5.82.8 1.81.4 3.61 1.2 5.02 2.01 1.61.8 2.81 2.01 4.01 3.21s2.21 2.61 2.81 4.21l-7.63 4.41c-.4-1-1-1.81-1.61-2.61-.6-.8-1.4-1.4-2.21-2.01-.8-.6-1.81-1-2.81-1.4-1-.4-2.21-.4-3.61-.4-2.01 0-3.81.4-5.22 1.2-1.4.8-2.61 1.81-3.61 3.21s-1.61 2.81-2.21 4.62c-.4 1.81-.6 3.71-.6 5.42s.8 5.22.8 5.22Zm57.8-27.9c3.21 0 6.22.6 8.63 1.81 2.41 1.2 4.82 2.81 6.62 4.82S170.2 24.39 171 27s1.4 5.62 1.4 8.83-.4 6.02-1.4 8.83-2.41 5.02-4.01 7.02-4.01 3.61-6.62 4.82-5.42 1.81-8.63 1.81-6.22-.6-8.63-1.81-4.82-2.81-6.42-4.82-3.21-4.41-4.01-7.02-1.4-5.62-1.4-8.83.4-6.02 1.4-8.83 2.41-5.02 4.01-7.02 4.01-3.61 6.42-4.82 5.42-1.81 8.63-1.81Zm0 36.73c1.81 0 3.61-.4 5.02-1s2.61-1.81 3.61-3.01 1.81-2.81 2.21-4.41c.4-1.81.8-3.61.8-5.62 0-2.21-.2-4.21-.8-6.02s-1.2-3.21-2.21-4.62c-1-1.2-2.21-2.21-3.61-3.01s-3.21-1-5.02-1-3.61.4-5.02 1c-1.4.8-2.61 1.81-3.61 3.01s-1.81 2.81-2.21 4.62c-.4 1.81-.8 3.61-.8 5.62 0 2.41.2 4.21.8 6.02.4 1.81 1.2 3.21 2.21 4.41s2.21 2.21 3.61 3.01c1.4.8 3.21 1 5.02 1Zm36.32 7.96-12.24-44.15h9.83l8.43 32.77h.4l8.23-32.77h9.83L200.3 58.04h-12.24Zm74.14-7.96c2.18 0 3.51-.6 3.51-.6 1.2-.6 2.01-1 2.81-1.81s1.4-1.81 1.81-2.81a13 13 0 0 0 .8-4.01V13.9h8.63v28.15c0 2.41-.4 4.62-1.4 6.62-.8 2.01-2.21 3.61-3.61 5.02s-3.41 2.41-5.62 3.21-4.62 1.2-7.02 1.2-5.02-.4-7.02-1.2c-2.21-.8-4.01-1.81-5.62-3.21s-2.81-3.01-3.61-5.02-1.4-4.21-1.4-6.62V13.9h8.63v26.95c0 1.61.2 3.01.8 4.01.4 1.2 1.2 2.21 2.01 2.81.8.8 1.81 1.4 2.81 1.81 0 0 1.34.6 3.51.6Zm34.22-36.18v18.92l15.65-18.92h10.82l-15.03 17.32 16.03 26.83h-10.21l-11.44-20.21-5.62 6.22v13.99h-8.83V13.9"/>
        </svg>
        <span class="govuk-header__product-name">
          Developer docs
        </span>
      </a>
    </div>
    <div class="govuk-header__content">
      <nav class="govuk-header__navigation govuk-header__navigation--end" aria-label="Menu">
        <button type="button" class="govuk-header__menu-button govuk-js-header-toggle" aria-controls="navigation" hidden>Menu</button>
        <ul id="navigation" class="govuk-header__navigation-list">
            <li class="govuk-header__navigation-item">
              <a class="govuk-header__link" href="/manual/get-started.html">Get started</a>
            </li>
            <li class="govuk-header__navigation-item">
              <a class="govuk-header__link" href="/manual.html">Manual</a>
            </li>
            <li class="govuk-header__navigation-item">
              <a class="govuk-header__link" href="/kubernetes/">Kubernetes</a>
            </li>
            <li class="govuk-header__navigation-item govuk-header__navigation-item--active">
              <a class="govuk-header__link" href="/apps.html" aria-current="page">Apps</a>
            </li>
            <li class="govuk-header__navigation-item">
              <a class="govuk-header__link" href="/repos.html">Repos</a>
            </li>
            <li class="govuk-header__navigation-item">
              <a class="govuk-header__link" href="/mobile/">Mobile</a>
            </li>
            <li class="govuk-header__navigation-item">
              <a class="govuk-header__link" href="/content-schemas.html">Schemas</a>
            </li>
            <li class="govuk-header__navigation-item">
              <a class="govuk-header__link" href="/document-types.html">Document types</a>
            </li>
        </ul>
      </nav>
    </div>
  </div>
</header>

      </div>

        <div id="toc-heading" class="toc-show fixedsticky">
          <button type="button" class="toc-show__label js-toc-show" aria-controls="toc">
            Table of contents <span class="toc-show__icon"></span>
          </button>
        </div>

      <div class="app-pane__body">
          <div class="app-pane__toc">
            <div class="toc" data-module="table-of-contents" tabindex="-1">
              <div class="search" data-module="search" data-path-to-site-root="/">
  <form action="https://www.google.co.uk/search" method="get" role="search" class="search__form govuk-!-margin-bottom-4">
    <input type="hidden" name="as_sitesearch" value="https://docs.publishing.service.gov.uk"/>
    <label class="govuk-label search__label" for="search">
      Search (via Google)
    </label>
    <input
      type="search"
      id="search" name="q"
      class="govuk-input govuk-!-margin-bottom-0 search__input"
      aria-controls="search-results"
      placeholder="Search">
    <button type="submit" class="search__button">Search</button>
  </form>
</div>

              <button type="button" class="toc__close js-toc-close" aria-controls="toc" aria-label="Hide table of contents"></button>
              <nav id="toc" class="js-toc-list toc__list" aria-labelledby="toc-heading">
                  <ul>
    <li>
      <a href="/repos/finder-frontend.html" rel="noopener" class="govuk-link">finder-frontend</a>
    </li>
    <li>
      <ul>
            <li><a href="/repos/finder-frontend/developing-a-finder.html" rel="noopener" class="govuk-link">Developing a Finder</a></li>
    <li><a href="/repos/finder-frontend/faceted-search.html" rel="noopener" class="govuk-link">faceted-search</a></li>
    <li><a href="/repos/finder-frontend/finder-content-item.html" rel="noopener" class="govuk-link">The Finder Content Item Format</a></li>
    <li><a href="/repos/finder-frontend/finder-email-alerts.html" rel="noopener" class="govuk-link">Finder email alerts</a></li>
    <li><a href="/repos/finder-frontend/how-search-works.html" rel="noopener" class="govuk-link">How search works</a></li>
    <li><a href="/repos/finder-frontend/registries.html" rel="noopener" class="govuk-link">Registries</a></li>
    <li><a href="/repos/finder-frontend/search-apis.html" rel="noopener" class="govuk-link">Search APIs</a></li>
    <li class="subdir__heading">analytics-ga4</li>
    <ul class="subdir__menu">
          <li><a href="/repos/finder-frontend/analytics-ga4/ga4-filter-expand-collapse.html" rel="noopener" class="govuk-link">GA4 filter expand/collapse tracking</a></li>

    </ul>

      </ul>
    </li>
  </ul>

              </nav>
            </div>
          </div>

        <div class="app-pane__content toc-open-disabled" aria-label="Content">
          <main id="content" class="technical-documentation" data-module="anchored-headings">
              
<script type="application/ld+json">
  {
  "@context": "http://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "item": {
        "name": "Home",
        "@id": "http://www.dev.gov.uk/"
      }
    },
    {
      "@type": "ListItem",
      "position": 2,
      "item": {
        "name": "Apps",
        "@id": "http://www.dev.gov.uk/apps.html"
      }
    },
    {
      "@type": "ListItem",
      "position": 3,
      "item": {
        "name": "finder-frontend",
        "@id": "http://www.dev.gov.uk/repos/finder-frontend.html"
      }
    }
  ]
}
</script>

<nav data-module="ga4-link-tracker" aria-label="Breadcrumb" class="gem-c-breadcrumbs govuk-breadcrumbs">
  <ol class="govuk-breadcrumbs__list">
        <li class="govuk-breadcrumbs__list-item">
          <a data-ga4-link="{&quot;event_name&quot;:&quot;navigation&quot;,&quot;type&quot;:&quot;breadcrumb&quot;,&quot;index_link&quot;:&quot;1&quot;,&quot;index_total&quot;:&quot;3&quot;}" class="govuk-breadcrumbs__link" href="/">Home</a>
        </li>
        <li class="govuk-breadcrumbs__list-item">
          <a data-ga4-link="{&quot;event_name&quot;:&quot;navigation&quot;,&quot;type&quot;:&quot;breadcrumb&quot;,&quot;index_link&quot;:&quot;2&quot;,&quot;index_total&quot;:&quot;3&quot;}" class="govuk-breadcrumbs__link" href="/apps.html">Apps</a>
        </li>
        <li class="govuk-breadcrumbs__list-item">
          <a data-ga4-link="{&quot;event_name&quot;:&quot;navigation&quot;,&quot;type&quot;:&quot;breadcrumb&quot;,&quot;index_link&quot;:&quot;3&quot;,&quot;index_total&quot;:&quot;3&quot;}" class="govuk-breadcrumbs__link" href="/repos/finder-frontend.html">finder-frontend</a>
        </li>
  </ol>
</nav>
  <div class="govuk-!-font-size-16 govuk-!-margin-top-6">
    <div class="govuk-warning-text">
      <span class="govuk-warning-text__icon" aria-hidden="true">!</span>
      <strong class="govuk-warning-text__text">
        <span class="govuk-warning-text__assistive">Warning</span>
        This document has not been updated for a while now. It may be out of date.
      </strong>
    </div>

  Last updated: <a href="https://github.com/alphagov/finder-frontend/commit/230f0567ad7eff5aa195799530c4c4b49babe409">30 Jan 2025</a>
</div>

  <h1 class="page-title">finder-frontend: The Finder Content Item Format</h1>

  
<p>A Finder Content Item is a specialisation of the <a href="https://github.com/alphagov/content-store/blob/master/doc/content_item_fields.md">Content Item</a> and is used by Finder Frontend to render the Finder page. This guide explains what goes into the ContentItem and why.</p>
<h1 id="details"><code>details</code></h1>
<h2 id="alpha_message"><code>alpha_message</code></h2>
<p>A string. Optional. Can be set to <code>null</code>.</p>
<p>Can contain HTML. If <code>phase</code> is <code>alpha</code>, <code>alpha_message</code> will be passed to the alpha banner.</p>
<h2 id="beta_message"><code>beta_message</code></h2>
<p>A string. Optional. Can be set to <code>null</code>.</p>
<p>Can contain HTML. If <code>phase</code> is <code>beta</code>, <code>beta_message</code> will be passed to the beta banner.</p>
<h2 id="document_noun"><code>document_noun</code></h2>
<p>A string. Required.</p>
<p>The lowercase singular version of whatever format the Finder is using. For example: <a href="https://www.gov.uk/cma-cases"><code>/cma-cases</code></a> has a <code>document_noun</code> of <code>case</code>, <a href="https://www.gov.uk/aaib-reports"><code>/aaib-report</code></a> has a <code>document_noun</code> of <code>report</code>. This is used to construct the sentence describing the current search by the user.</p>
<h2 id="filter"><code>filter</code></h2>
<p>A hash. Optional.</p>
<p>Used to restrict the base search in Rummager. It can contain any key and value pair as long as the key is listed in <code>ALLOWED_FILTER_FIELDS</code> <a href="https://github.com/alphagov/rummager/blob/be2ee6927eeab348c0bfc1e2b553c9c138a3ebc8/lib/search_parameter_parser.rb#L16">in Rummager</a>.</p>
<p>For example filtering all documents with a <code>contact</code> format from HM Revenue &amp; Customs would need a hash like:</p>
<pre lang="json"><code>{
  "document_type": "contact",
  "organisations": [
    "hm-revenue-customs"
  ]
}
</code></pre>
<h2 id="reject"><code>reject</code></h2>
<p>A hash. Optional.</p>
<p>Used to restrict the base search in Rummager. It can contain any key and value pair as long as the key is listed in <code>ALLOWED_FILTER_FIELDS</code> <a href="https://github.com/alphagov/rummager/blob/be2ee6927eeab348c0bfc1e2b553c9c138a3ebc8/lib/search_parameter_parser.rb#L16">in Rummager</a>. The <code>_MISSING</code> value is
useful here if you find yourself chaining too many values in filter and running over the max URL length supported by <code>Net::HTTP</code>.</p>
<p>For example, rejecting all documents which don't have a policy would need a hash like:</p>
<pre lang="json"><code>{
  "policy": "_MISSING"
}
</code></pre>
<h2 id="default_order"><code>default_order</code></h2>
<p>A string. Optional.</p>
<p>You can use a minus (-) in front of the field to order in descending order (see <a href="https://github.com/alphagov/whitehall/blob/master/lib/finders/case_studies.json#L12">whitehall/lib/finders/case_studies.json</a> for an example).</p>
<p>Rummager must allow this field to be sorted on. At the time of writing <a href="https://github.com/alphagov/rummager/blob/ff35f2efb17d145f657cb520bc9892e64b713901/lib/parameter_parser/base_parameter_parser.rb#L10-L17">this
was restricted to a couple of fields</a>.</p>
<h2 id="default_documents_per_page"><code>default_documents_per_page</code></h2>
<p>An integer. Optional.</p>
<p>Used to build pagination when querying Rummager.</p>
<h2 id="signup_link"><code>signup_link</code></h2>
<p>A string. Optional.</p>
<p>If present in the links hash, the email alert signup link being displayed will point to <code>base_path/email-signup</code> where <code>base_path</code> is from the Finder object. <code>signup_link</code> allows you to point it at a different URL, <a href="https://www.gov.uk/drug-safety-update">Drug Safety Update</a> and <a href="https://www.gov.uk/drug-device-alerts">Drug Device Alerts</a> are the two which currently use this feature.</p>
<h2 id="show_summaries"><code>show_summaries</code></h2>
<p>A boolean. Required.</p>
<p>Used to decide if the summaries for Documents should be displayed in the results list. It will truncate the summary at the end of the first sentence.</p>
<h2 id="summary"><code>summary</code></h2>
<p>A string. Optional.</p>
<p>Rendered in the header after the metadata. Can contain Govspeak and is rendered using the <a href="http://govuk-static.herokuapp.com/component-guide/govspeak">Govspeak component</a>.</p>
<h2 id="facets"><code>facets</code></h2>
<p>An array of hashes. Optional.</p>
<p>Each facet corresponds to a document field that can take multiple values. Facets can be used to build user defined filters, and/or they can add metadata to search results.</p>
<h3 id="example-a-filterable-case-type-facet">Example: a filterable <code>Case type</code> facet</h3>
<pre><code>{
  "key": "case_type",
  "name": "Case type",
  "type": "text",
  "display_as_result_metadata": true,
  "filterable": true,
  "allowed_values": [...],
  [...]
}
</code></pre>
<!-- raw HTML omitted -->
<h3 id="example-metadata-for-several-facets">Example: metadata for several facets</h3>
<p>&lt;img alt="Facet metadata" src="./assets/metadata.png" width="402", height="66"&gt;</p>
<h3 id="types-of-facet">Types of facet</h3>
<p>The required keys for a facet hash depends on the
value of <code>type</code> in the hash. Valid values are <code>date</code>, <code>text</code> or <code>topical</code>.</p>
<h4 id="date-facets">Date Facets</h4>
<p>When a date facet is filterable, it's rendered as a text field that accepts various forms of dates such as <code>2020</code> and <code>2020-01-02</code>.</p>
<p>When displayed as metadata, a date value takes the form <code>DD Month YYYY</code>.</p>
<pre><code>{
  "key": "date_of_occurrence",
  "name": "Date of occurrence",
  "short_name": "Occurred",
  "type": "date",
  "preposition": "occurred",
  "display_as_result_metadata": true,
  "filterable": true
}
</code></pre>
<p><a href="">https://www.gov.uk/aaib-reports</a></p>
<h4 id="text-facets">Text Facets</h4>
<p>Text facets are used for faceting on a field that can take a number of different values. If filterable, a text facet is rendered as a group of checkboxes.</p>
<pre><code>{
  "key": "case_state",
  "name": "Case state",
  "type": "text",
  "preposition": "which are",
  "display_as_result_metadata": true,
  "filterable": true,
  "allowed_values": [
    {
      "label": "Open",
      "value": "open"
    },
    {
      "label": "Closed",
      "value": "closed"
    }
  ]
}
</code></pre>
<p><a href="">https://www.gov.uk/cma-cases</a></p>
<h5 id="predefined-options-using-allowed_values">Predefined options using <code>allowed_values</code>
</h5>
<p>The <code>allowed_values</code> fields is an array of hashes defining fixed options for the facet. It's only used if <code>filterable</code> is set to <code>true</code> and <code>type</code> is set to <code>text</code>.</p>
<p>Each hash contains hashes with the following keys and values:</p>
<ul>
<li>
<p><code>label</code>: A string. Required.</p>
<p>Displayed as the label for the option in the <code>multi-select</code> Filter and as the label in the <code>sentence_fragment</code>.</p>
</li>
<li>
<p><code>value</code>: A string. Required.</p>
<p>Appended to the URL when the option is selected. Usually a parameterised slug of the label, but it doesn't need to be a direct 1:1.</p>
</li>
</ul>
<h5 id="dynamically-generated-options">Dynamically generated options</h5>
<p>If <code>allowed_values</code> is missing or empty, the values are dynamically generated based on the documents returned from the query.</p>
<p>This is usually better than providing fixed values, because the user is not given options that filter out every document in their search.</p>
<p>This behaviour is closer to what is meant by "facet" in the underlying  <a href="https://github.com/alphagov/rummager/blob/master/docs/search-api.md">search API</a>.</p>
<p>The current implementation of dynamic facets always requests the facet from the search api using a particular ordering: <code>1000,order:value.title</code>. This means it won't work for all fields.</p>
<pre><code>{
  "key": "organisations",
  "short_name": "From",
  "type": "text",
  "display_as_result_metadata": true,
  "filterable": true,
  "preposition": "from",
  "name": "Organisation"
}
</code></pre>
<p><a href="">https://www.gov.uk/government/policies</a></p>
<h4 id="topical-facets">Topical Facets</h4>
<p>A <code>topical</code> facet is used for faceting on something that changes state on a particular date. The motivating example is a <code>Topical Event</code>, which transitions from
<code>Current</code> to <code>Archived</code> on its <code>end_date</code>.</p>
<pre><code>{
  "key": "end_date",
  "name": "Status",
  "type": "topical",
  "open_value": {
    "label": "Current",
    "value": "current"
  },
  "closed_value": {
    "label": "Archived",
    "value": "archived"
  },
  "preposition": "with status",
  "display_as_result_metadata": false,
  "filterable": true
}
</code></pre>
<p><a href="">https://www.gov.uk/government/topical-events</a></p>
<h5 id="the-open_value-and-closed_value-fields">The <code>open_value</code> and <code>closed_value</code> fields</h5>
<p>These fields are hashes containing a <code>label</code> key and a <code>value</code> key. Required only when <code>type</code> is set to
<code>topical</code>.</p>
<p>These customise the <code>label</code> shown for both possible facet values and the corresponding <code>value</code> used in URLs.</p>
<p><code>open_value</code> is the value that will be used when the <code>key</code> field is in the
future, and <code>closed_value</code> is the value that will be used when the <code>key</code> field
is in the past.</p>
<p>For example, if a content item has its <code>key</code> field set to <code>2020-07-01</code>, then it
will be considered <code>open</code> until midnight on the 1st July 2020, and <code>closed</code>
from then onwards. Documents might show up as <code>open</code> for slightly
longer than this due to page-level caching.</p>
<h3 id="fields-common-across-all-facet-types">Fields common across all facet types</h3>
<h4 id="key"><code>key</code></h4>
<p>A string. Required.</p>
<p><code>snake_case</code> string which matches to the field being searched in Rummager.</p>
<h4 id="filterable"><code>filterable</code></h4>
<p>A boolean. Required.</p>
<p>Specifies if the facet should have a matching Filter for the results.</p>
<h4 id="display_as_result_metadata"><code>display_as_result_metadata</code></h4>
<p>A boolean. Required.</p>
<p>Specifies if the facet should be returned as metadata underneath each result.</p>
<h4 id="name"><code>name</code></h4>
<p>A string. Required.</p>
<p>Used to label the filter panel for the facet.</p>
<p>For date facets, it may be used to label the metadata shown for each result. (See also short_name)</p>
<h4 id="preposition"><code>preposition</code></h4>
<p>A string. Required if <code>filterable</code> is set to <code>true</code>.</p>
<p>Is prepended to the name of the Filter when constructing the <code>sentence_fragment</code> for that Filter.</p>
<h4 id="short_name"><code>short_name</code></h4>
<p>A string. Optional.</p>
<p>For dates, the name of the Filter may be too long, such as <code>Date of occurrence</code>. The field lets you specify a short name. For the <code>Date of occurrence</code> example, the <code>short_name</code> would be <code>Occurred</code>.</p>
<h1 id="routes"><code>routes</code></h1>
<p>In order for a Finder to work as intended, the routes array needs to have 3 entries. One for the page, one for <code>.json</code> which is used to update the results and one for <code>.atom</code> which is used for the Atom feed. Example:</p>
<pre lang="json"><code>[
  {
    "path": "/a-finder-base-path",
    "type": "exact",
  },
  {
    "path": "/a-finder-base-path.json",
    "type": "exact",
  },
  {
    "path": "/a-finder-base-path.atom",
    "type": "exact",
  }
]
</code></pre>
<h1 id="links"><code>links</code></h1>
<h2 id="organisations"><code>organisations</code></h2>
<p>Currently, only the first Organisation is displayed as metadata on the Finder.</p>
<h2 id="email_alert_signup"><code>email_alert_signup</code></h2>
<p>This is the Content Item for the email-signup for the Finder. Most of these live at <code>#{base_path}/email-signup</code> but there's no reason this couldn't point anywhere else.</p>

  <script>
    /*
      Manually trigger the styling of the 'current page' in the sidebar,
      as it does not happen automatically because we are still technically
      in single page mode.
    */
    (function () {
        'use strict'
        /*
          Cannot use `$(document).ready` on next line as jQuery has not loaded
          yet. But we can use jQuery in the callback.
        */
        window.addEventListener('load', function () {
            try {
                new GOVUK.Modules.InPageNavigation().start($("html"));
            }
            catch (error) {
                /* Fail without causing other JS in the page to break */
                console.log("Error calling GOVUK's InPageNavigation module", error);
            }
        })
    }());
</script>


            
          </main>

          <aside>
              <ul class="contribution-banner">
                <li><a href="https://github.com/alphagov/finder-frontend/blob/main/docs/finder-content-item.md">View source</a></li>
                <li><a href="https://github.com/alphagov/govuk-developer-docs/issues/new?body=Problem+with+%27%27+%28https%3A%2F%2Fdocs.publishing.service.gov.uk%2Frepos%2Ffinder-frontend%2Ffinder-content-item.html%29&amp;labels=bug&amp;title=Re%3A+%27%27">Report problem</a></li>
                <li><a href="https://github.com/alphagov/govuk-developer-docs">GitHub Repo</a></li>
              </ul>
          </aside>

          <footer class="govuk-footer app-footer" role="contentinfo">
  <svg focusable="false" role="presentation" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 60" height="30" width="32" fill="currentcolor" class="govuk-footer__crown">
    <g>
      <circle cx="20" cy="17.6" r="3.7"></circle>
      <circle cx="10.2" cy="23.5" r="3.7"></circle>
      <circle cx="3.7" cy="33.2" r="3.7"></circle>
      <circle cx="31.7" cy="30.6" r="3.7"></circle>
      <circle cx="43.3" cy="17.6" r="3.7"></circle>
      <circle cx="53.2" cy="23.5" r="3.7"></circle>
      <circle cx="59.7" cy="33.2" r="3.7"></circle>
      <circle cx="31.7" cy="30.6" r="3.7"></circle>
      <path d="M33.1,9.8c.2-.1.3-.3.5-.5l4.6,2.4v-6.8l-4.6,1.5c-.1-.2-.3-.3-.5-.5l1.9-5.9h-6.7l1.9,5.9c-.2.1-.3.3-.5.5l-4.6-1.5v6.8l4.6-2.4c.1.2.3.3.5.5l-2.6,8c-.9,2.8,1.2,5.7,4.1,5.7h0c3,0,5.1-2.9,4.1-5.7l-2.6-8ZM37,37.9s-3.4,3.8-4.1,6.1c2.2,0,4.2-.5,6.4-2.8l-.7,8.5c-2-2.8-4.4-4.1-5.7-3.8.1,3.1.5,6.7,5.8,7.2,3.7.3,6.7-1.5,7-3.8.4-2.6-2-4.3-3.7-1.6-1.4-4.5,2.4-6.1,4.9-3.2-1.9-4.5-1.8-7.7,2.4-10.9,3,4,2.6,7.3-1.2,11.1,2.4-1.3,6.2,0,4,4.6-1.2-2.8-3.7-2.2-4.2.2-.3,1.7.7,3.7,3,4.2,1.9.3,4.7-.9,7-5.9-1.3,0-2.4.7-3.9,1.7l2.4-8c.6,2.3,1.4,3.7,2.2,4.5.6-1.6.5-2.8,0-5.3l5,1.8c-2.6,3.6-5.2,8.7-7.3,17.5-7.4-1.1-15.7-1.7-24.5-1.7h0c-8.8,0-17.1.6-24.5,1.7-2.1-8.9-4.7-13.9-7.3-17.5l5-1.8c-.5,2.5-.6,3.7,0,5.3.8-.8,1.6-2.3,2.2-4.5l2.4,8c-1.5-1-2.6-1.7-3.9-1.7,2.3,5,5.2,6.2,7,5.9,2.3-.4,3.3-2.4,3-4.2-.5-2.4-3-3.1-4.2-.2-2.2-4.6,1.6-6,4-4.6-3.7-3.7-4.2-7.1-1.2-11.1,4.2,3.2,4.3,6.4,2.4,10.9,2.5-2.8,6.3-1.3,4.9,3.2-1.8-2.7-4.1-1-3.7,1.6.3,2.3,3.3,4.1,7,3.8,5.4-.5,5.7-4.2,5.8-7.2-1.3-.2-3.7,1-5.7,3.8l-.7-8.5c2.2,2.3,4.2,2.7,6.4,2.8-.7-2.3-4.1-6.1-4.1-6.1h10.6,0Z"></path>
    </g>
  </svg>
  <div class="govuk-footer__meta">
    <div class="govuk-footer__meta-item govuk-footer__meta-item--grow">

        <ul class="govuk-footer__inline-list">
            <li class="govuk-footer__inline-list-item">
              <a class="govuk-footer__link" href="/accessibility.html">Accessibility</a>
            </li>
            <li class="govuk-footer__inline-list-item">
              <a class="govuk-footer__link" href="/cookies.html">Cookies</a>
            </li>
        </ul>

      <svg
        aria-hidden="true"
        focusable="false"
        class="govuk-footer__licence-logo"
        xmlns="http://www.w3.org/2000/svg"
        viewbox="0 0 483.2 195.7"
        height="17"
        width="41"
      >
        <path
          fill="currentColor"
          d="M421.5 142.8V.1l-50.7 32.3v161.1h112.4v-50.7zm-122.3-9.6A47.12 47.12 0 0 1 221 97.8c0-26 21.1-47.1 47.1-47.1 16.7 0 31.4 8.7 39.7 21.8l42.7-27.2A97.63 97.63 0 0 0 268.1 0c-36.5 0-68.3 20.1-85.1 49.7A98 98 0 0 0 97.8 0C43.9 0 0 43.9 0 97.8s43.9 97.8 97.8 97.8c36.5 0 68.3-20.1 85.1-49.7a97.76 97.76 0 0 0 149.6 25.4l19.4 22.2h3v-87.8h-80l24.3 27.5zM97.8 145c-26 0-47.1-21.1-47.1-47.1s21.1-47.1 47.1-47.1 47.2 21 47.2 47S123.8 145 97.8 145"
        />
      </svg>
      <span class="govuk-footer__licence-description">
        All content is available under the
        <a
          class="govuk-footer__link"
          href="https://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/"
          rel="license"
        >Open Government Licence v3.0</a>, except where otherwise stated
      </span>
    </div>
    <div class="govuk-footer__meta-item">
      <a
        class="govuk-footer__link govuk-footer__copyright-logo"
        href="https://www.nationalarchives.gov.uk/information-management/re-using-public-sector-information/uk-government-licensing-framework/crown-copyright/"
      >Â© Crown copyright</a>
    </div>
  </div>
</footer>

        </div>
      </div>
    </div>

    
    <script src="/javascripts/govuk_frontend.js" type="module"></script>
    <script src="/javascripts/application.js"></script>
  </body>
</html>
